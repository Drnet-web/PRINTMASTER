{% extends 'base.html' %}

{% block content %}
<div class="container-fluid">
    <h2>Modifica Fotocopiatrice</h2>

    {% if errore %}
    <div class="alert alert-danger">{{ errore }}</div>
    {% endif %}

    <form method="POST">
        <div class="mb-3">
            <label for="seriale" class="form-label">Seriale</label>
            <input type="text" class="form-control" id="seriale" name="seriale" required value="{{ macchina[1] }}">
        </div>
        <div class="mb-3">
            <label for="modello" class="form-label">Modello</label>
            <input type="text" class="form-control" id="modello" name="modello" required value="{{ macchina[2] }}">
        </div>
        <div class="mb-3">
            <label for="marca" class="form-label">Marca</label>
            <input type="text" class="form-control" id="marca" name="marca" required value="{{ macchina[3] }}">
        </div>
        <div class="mb-3">
            <label for="tipologia" class="form-label">Tipologia</label>
            <select class="form-select" id="tipologia" name="tipologia" required>
                <option value="">-- Seleziona --</option>
                <option value="Stampante" {% if macchina[4] == 'Stampante' %}selected{% endif %}>Stampante</option>
                <option value="Fotocopiatrice" {% if macchina[4] == 'Fotocopiatrice' %}selected{% endif %}>Fotocopiatrice</option>
                <option value="Multifunzione" {% if macchina[4] == 'Multifunzione' %}selected{% endif %}>Multifunzione</option>
            </select>
        </div>
        <div class="mb-3">
            <label for="colore" class="form-label">Colore</label>
            <select class="form-select" id="colore" name="colore" required>
                <option value="">-- Seleziona --</option>
                <option value="Si" {% if macchina[5] == 'Si' %}selected{% endif %}>Sì</option>
                <option value="No" {% if macchina[5] == 'No' %}selected{% endif %}>No</option>
            </select>
        </div>

        <div class="mb-3">
            <label for="forfait_nero" class="form-label">Forfait Copie B/N</label>
            <input type="number" class="form-control" id="forfait_nero" name="forfait_nero" required value="{{ macchina[7] }}">
        </div>
        <div class="mb-3">
            <label for="forfait_colore" class="form-label">Forfait Copie Colore</label>
            <input type="number" class="form-control" id="forfait_colore" name="forfait_colore" required value="{{ macchina[8] }}">
        </div>
        <div class="mb-3">
            <label for="costo_copia_nero" class="form-label">Costo per Copia B/N (€)</label>
            <input type="number" step="0.0001" class="form-control" id="costo_copia_nero" name="costo_copia_nero" required value="{{ macchina[9] }}">
        </div>
        <div class="mb-3">
            <label for="costo_copia_colore" class="form-label">Costo per Copia Colore (€)</label>
            <input type="number" step="0.0001" class="form-control" id="costo_copia_colore" name="costo_copia_colore" required value="{{ macchina[10] }}">
        </div>

        <div class="mb-3">
            <label for="cliente_id" class="form-label">Cliente</label>
            <select class="form-select" id="cliente_id" name="cliente_id" required>
                <option value="">-- Seleziona cliente --</option>
                {% for cliente in clienti %}
                    <option value="{{ cliente[0] }}" {% if cliente[0] == macchina[6] %}selected{% endif %}>
                        {{ cliente[1] }}
                    </option>
                {% endfor %}
            </select>
        </div>

        <div class="d-flex justify-content-between">
            <a href="{{ url_for('fotocopiatrici.lista_fotocopiatrici') }}" class="btn btn-secondary">Annulla</a>
            <button type="submit" class="btn btn-primary">Salva Modifiche</button>
        </div>
    </form>
</div>
{% endblock %}
